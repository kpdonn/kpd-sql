DROP SCHEMA IF EXISTS public cascade;

CREATE SCHEMA public;


CREATE TABLE subject (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name text NOT NULL UNIQUE
);

CREATE TABLE student (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name text NOT NULL,
    last_name text NOT NULL,
    major_id int REFERENCES subject(id)
);

CREATE TABLE professor (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name text NOT NULL,
    last_name text NOT NULL,
    department_id int NOT NULL REFERENCES subject(id)
);

CREATE TABLE course (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name text NOT NULL,
  subject_id int not null REFERENCES subject(id),
  credit_hours int not null
);

CREATE TABLE semester (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  year int NOT NULL UNIQUE
);

CREATE TABLE class (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  course_id int NOT NULL REFERENCES course(id),
  semester_id int not null REFERENCES semester(id),
  professor_id int not null REFERENCES professor(id)
);

CREATE TABLE assignment_type (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name text not null
);

CREATE TABLE assignment (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  type_id int not null REFERENCES assignment_type(id),
  class_id int NOT NULL REFERENCES class(id),
  points_possible int not null
);

create table student_class (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  student_id int not null REFERENCES student(id),
  class_id int not null REFERENCES class(id)
);

create table student_assignment (
  id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  student_id int not null REFERENCES student(id),
  assignment_id int not null REFERENCES assignment(id),
  points int not null
);


insert into subject (name) VALUES ('Computer Science'), ('English'), ('Journalism');

insert into assignment_type (name) values ('homework'), ('lab'), ('paper'), ('quiz'), ('exam');

insert into student (first_name, last_name, major_id) VALUES 
('Davonte', 'Leannon', NULL),
('Trisha', 'Kertzmann', NULL),
('Murl', 'Kuphal', NULL),
('Alexandria', 'Reinger', NULL),
('Timothy', 'Metz', NULL),
('Grady', 'Rau', 1),
('Cristobal', 'Wyman', 1),
('Norris', 'Johnson', 1),
('Queenie', 'Baumbach', 1),
('Kariane', 'Gleichner', 1),
('Raven', 'Lebsack', 2),
('Herminio', 'Morissette', 2),
('Lester', 'Wuckert', 2),
('Imani', 'Kuhlman', 2),
('Tianna', 'Walter', 2),
('Charlie', 'Bashirian', 3),
('Georgette', 'Fisher', 3),
('Arno', 'Bradtke', 3),
('Hosea', 'Ziemann', 3),
('Winona', 'Raynor', 3);

insert into professor (first_name, last_name, department_id) VALUES 
('Myriam', 'Hayes', 1),
('Fae', 'Morar', 1),
('Hillard', 'McKenzie', 1),
('Federico', 'Emard', 1),
('Lonzo', 'Kilback', 2),
('Xavier', 'Schmitt', 2),
('Destiney', 'Kuhic', 2),
('Trevor', 'Kohler', 2),
('Caitlyn', 'Wilderman', 3),
('Forrest', 'Tremblay', 3),
('Earnestine', 'Frami', 3),
('Cruz', 'Gutmann', 3);

insert into course (name, subject_id, credit_hours) VALUES 
('Integrated convergence', 1, 4),
('Down-sized networks', 1, 1),
('Assimilated technologies', 1, 3),
('Assimilated e-services', 1, 4),
('Profit-focused deliverables', 2, 5),
('Reverse-engineered networks', 2, 4),
('Cross-platform convergence', 2, 5),
('Focused bandwidth', 2, 1),
('User-friendly paradigms', 3, 1),
('Realigned supply-chains', 3, 4),
('Universal experiences', 3, 3),
('Programmable metrics', 3, 3);

insert into semester (year) VALUES (2017), (2018);

INSERT INTO class (course_id, semester_id, professor_id) VALUES (1, 1, 2), 
(1, 2, 3), (1, 2, 2), (2, 1, 2), (2, 2, 1), (3, 1, 1), (3, 2, 
2), (3, 2, 3), (4, 1, 4), (4, 1, 4), (4, 2, 4), (4, 2, 5), (5, 
1, 5), (5, 2, 5), (5, 2, 5), (6, 1, 5), (6, 1, 5), (6, 2, 5), ( 
6, 2, 5), (7, 1, 5), (7, 1, 5), (7, 2, 5), (8, 1, 9), (8, 2, 7) 
, (8, 2, 8), (9, 1, 7), (9, 2, 8), (9, 2, 7), (10, 1, 8), (10, 
2, 9), (11, 1, 9), (11, 2, 9), (11, 2, 8), (12, 1, 10), (12, 2, 
11), (12, 2, 11); 

INSERT INTO assignment (class_id, type_id, points_possible) VALUES (1, 5, 60), (1, 1, 75), (2, 4, 95), (2, 1, 15 
), (2, 5, 85), (2, 3, 85), (3, 2, 70), (3, 4, 25), (3, 2, 65), ( 
4, 1, 90), (4, 4, 40), (5, 5, 95), (6, 3, 25), (6, 5, 50), (6, 3 
, 45), (6, 3, 100), (6, 4, 15), (7, 1, 60), (8, 1, 70), (9, 1, 
15), (10, 5, 90), (11, 3, 30), (12, 1, 15), (12, 1, 15), (12, 3, 
30), (12, 2, 70), (13, 5, 80), (14, 2, 20), (14, 3, 5), (14, 2, 
20), (14, 5, 60), (14, 4, 15), (15, 4, 75), (16, 3, 65), (16, 4, 
55), (16, 3, 10), (16, 3, 45), (17, 2, 85), (18, 4, 55), (18, 2, 
35), (18, 3, 30), (18, 3, 25), (18, 4, 15), (19, 2, 5), (19, 3, 
40), (19, 2, 15), (20, 4, 65), (20, 2, 100), (21, 4, 90), (21, 5, 
85), (22, 5, 40), (22, 4, 25), (22, 5, 100), (22, 4, 100), (23, 3 
, 85), (23, 2, 30), (23, 3, 45), (23, 4, 30), (23, 4, 75), (24, 5 
, 45), (24, 1, 80), (24, 5, 60), (24, 5, 30), (24, 4, 85), (25, 5 
, 30), (25, 3, 100), (25, 2, 10), (26, 2, 50), (26, 3, 65), (27, 
3, 10), (27, 1, 85), (27, 2, 95), (27, 3, 90), (28, 4, 10), (28, 
3, 10), (28, 3, 75), (28, 1, 15), (28, 4, 25), (29, 5, 95), (29, 
4, 40), (29, 4, 40), (30, 5, 80), (31, 3, 100), (31, 1, 45), (31, 
5, 45), (32, 1, 20), (32, 5, 40), (32, 1, 45), (33, 3, 20), (33, 
1, 85), (34, 4, 45), (34, 3, 80), (35, 5, 75), (35, 1, 75), (35, 
5, 5), (36, 5, 50), (36, 3, 5), (36, 4, 50), (36, 4, 65), (36, 5 
, 50); 

INSERT INTO student_class (class_id, student_id) VALUES (1, 20), (1, 
14), (1, 5), (1, 4), (2, 15), (2, 6), (2, 18), (2, 19), (3, 7), 
(3, 16), (3, 8), (4, 20), (4, 18), (4, 19), (4, 14), (4, 12), (5, 
15), (5, 10), (5, 1), (5, 17), (6, 20), (6, 17), (6, 9), (6, 6), 
(6, 15), (7, 7), (7, 12), (7, 3), (7, 19), (7, 2), (8, 5), (8, 
18), (9, 20), (9, 3), (9, 17), (10, 9), (10, 5), (10, 1), (10, 13) 
, (10, 2), (11, 10), (11, 7), (11, 18), (11, 12), (11, 19), (12, 
14), (12, 8), (12, 4), (12, 16), (12, 15), (13, 20), (13, 2), (14, 
17), (14, 16), (14, 10), (14, 3), (14, 6), (15, 7), (15, 8), (15, 
14), (16, 20), (16, 9), (16, 12), (17, 17), (17, 18), (17, 4), (17 
, 2), (18, 13), (18, 19), (19, 7), (19, 5), (20, 20), (20, 13), ( 
20, 9), (21, 6), (21, 8), (21, 7), (22, 15), (22, 18), (22, 14), ( 
22, 16), (22, 19), (23, 20), (23, 14), (23, 12), (23, 16), (24, 10) 
, (24, 19), (24, 4), (24, 9), (25, 6), (25, 8), (25, 5), (26, 20), 
(26, 18), (26, 3), (26, 16), (26, 5), (27, 7), (27, 10), (27, 15) 
, (27, 19), (28, 13), (28, 11), (28, 17), (29, 20), (29, 7), (29, 
17), (29, 8), (29, 15), (30, 9), (30, 12), (30, 3), (30, 6), (30, 
2), (31, 20), (31, 15), (31, 5), (31, 1), (31, 11), (32, 12), (32, 
3), (32, 18), (32, 8), (32, 7), (33, 10), (33, 19), (33, 14), (33, 
13), (33, 17), (34, 20), (34, 19), (34, 5), (34, 4), (35, 13), ( 
35, 8), (35, 1), (36, 7), (36, 3), (36, 14), (36, 16), (36, 18); 


INSERT INTO student_assignment (assignment_id, student_id, points) VALUES (1, 
20, 27), (2, 20, 59), (1, 14, 22), (2, 14, 29), (1, 5, 48), (2, 
5, 60), (1, 4, 22), (2, 4, 61), (3, 15, 84), (4, 15, 2), (5, 15, 
40), (6, 15, 46), (3, 6, 21), (4, 6, 12), (5, 6, 64), (6, 6, 85 
), (3, 18, 81), (4, 18, 11), (5, 18, 70), (6, 18, 24), (3, 19, 80 
), (4, 19, 1), (5, 19, 72), (6, 19, 4), (7, 7, 28), (8, 7, 4), ( 
9, 7, 13), (7, 16, 49), (8, 16, 16), (9, 16, 57), (7, 8, 1), (8, 
8, 19), (9, 8, 30), (10, 20, 81), (11, 20, 33), (10, 18, 7), (11, 
18, 26), (10, 19, 73), (11, 19, 29), (10, 14, 5), (11, 14, 34), 
(10, 12, 32), (11, 12, 24), (12, 15, 34), (12, 10, 21), (12, 1, 33 
), (12, 17, 49), (13, 20, 0), (14, 20, 34), (15, 20, 28), (16, 20, 
34), (17, 20, 6), (13, 17, 16), (14, 17, 38), (15, 17, 29), (16, 
17, 79), (17, 17, 12), (13, 9, 10), (14, 9, 16), (15, 9, 7), (16, 
9, 65), (17, 9, 11), (13, 6, 13), (14, 6, 45), (15, 6, 21), (16, 
6, 52), (17, 6, 8), (13, 15, 2), (14, 15, 0), (15, 15, 38), (16, 
15, 72), (17, 15, 2), (18, 7, 12), (18, 12, 19), (18, 3, 22), ( 
18, 19, 12), (18, 2, 16), (19, 5, 3), (19, 18, 18), (20, 20, 15), 
(20, 3, 6), (20, 17, 8), (21, 9, 28), (21, 5, 53), (21, 1, 9), ( 
21, 13, 38), (21, 2, 17), (22, 10, 23), (22, 7, 24), (22, 18, 24), 
(22, 12, 11), (22, 19, 5), (23, 14, 5), (24, 14, 14), (25, 14, 
26), (26, 14, 64), (23, 8, 1), (24, 8, 12), (25, 8, 19), (26, 8, 
55), (23, 4, 10), (24, 4, 13), (25, 4, 21), (26, 4, 55), (23, 16, 
4), (24, 16, 1), (25, 16, 22), (26, 16, 6), (23, 15, 2), (24, 15, 
11), (25, 15, 24), (26, 15, 21), (27, 20, 36), (27, 2, 7), (28, 
17, 16), (29, 17, 2), (30, 17, 5), (31, 17, 50), (32, 17, 11), (28 
, 16, 11), (29, 16, 2), (30, 16, 7), (31, 16, 8), (32, 16, 11), ( 
28, 10, 0), (29, 10, 0), (30, 10, 3), (31, 10, 55), (32, 10, 10), 
(28, 3, 6), (29, 3, 2), (30, 3, 9), (31, 3, 52), (32, 3, 2), (28 
, 6, 20), (29, 6, 1), (30, 6, 15), (31, 6, 28), (32, 6, 2), (33, 
7, 42), (33, 8, 67), (33, 14, 52), (34, 20, 5), (35, 20, 48), (36 
, 20, 9), (37, 20, 9), (34, 9, 8), (35, 9, 36), (36, 9, 0), (37, 
9, 1), (34, 12, 61), (35, 12, 31), (36, 12, 8), (37, 12, 2), (38, 
17, 30), (38, 18, 21), (38, 4, 46), (38, 2, 43), (39, 13, 43), ( 
40, 13, 26), (41, 13, 6), (42, 13, 17), (43, 13, 9), (39, 19, 20), 
(40, 19, 15), (41, 19, 28), (42, 19, 20), (43, 19, 10), (44, 7, 
2), (45, 7, 33), (46, 7, 0), (44, 5, 0), (45, 5, 1), (46, 5, 8), 
(47, 20, 63), (48, 20, 80), (47, 13, 25), (48, 13, 12), (47, 9, 
39), (48, 9, 75), (49, 6, 5), (50, 6, 18), (49, 8, 89), (50, 8, 
10), (49, 7, 0), (50, 7, 8), (51, 15, 20), (52, 15, 5), (53, 15, 
39), (54, 15, 36), (51, 18, 9), (52, 18, 19), (53, 18, 44), (54, 
18, 72), (51, 14, 0), (52, 14, 11), (53, 14, 12), (54, 14, 93), ( 
51, 16, 18), (52, 16, 0), (53, 16, 68), (54, 16, 23), (51, 19, 17) 
, (52, 19, 9), (53, 19, 57), (54, 19, 32), (55, 20, 5), (56, 20, 
2), (57, 20, 34), (58, 20, 9), (59, 20, 32), (55, 14, 28), (56, 14 
, 12), (57, 14, 31), (58, 14, 20), (59, 14, 0), (55, 12, 61), (56, 
12, 6), (57, 12, 15), (58, 12, 1), (59, 12, 5), (55, 16, 37), ( 
56, 16, 1), (57, 16, 43), (58, 16, 17), (59, 16, 74), (60, 10, 44) 
, (61, 10, 54), (62, 10, 54), (63, 10, 25), (64, 10, 81), (60, 19, 
16), (61, 19, 23), (62, 19, 23), (63, 19, 25), (64, 19, 55), (60, 
4, 21), (61, 4, 31), (62, 4, 11), (63, 4, 15), (64, 4, 11), (60, 
9, 34), (61, 9, 14), (62, 9, 14), (63, 9, 22), (64, 9, 29), (65, 
6, 11), (66, 6, 43), (67, 6, 3), (65, 8, 9), (66, 8, 9), (67, 8 
, 5), (65, 5, 11), (66, 5, 35), (67, 5, 10), (68, 20, 11), (69, 
20, 59), (68, 18, 7), (69, 18, 38), (68, 3, 42), (69, 3, 30), (68, 
16, 0), (69, 16, 35), (68, 5, 11), (69, 5, 55), (70, 7, 2), (71, 
7, 83), (72, 7, 90), (73, 7, 26), (70, 10, 1), (71, 10, 54), (72 
, 10, 77), (73, 10, 16), (70, 15, 10), (71, 15, 7), (72, 15, 91), 
(73, 15, 28), (70, 19, 2), (71, 19, 34), (72, 19, 15), (73, 19, 
10), (74, 13, 10), (75, 13, 10), (76, 13, 41), (77, 13, 2), (78, 
13, 16), (74, 11, 2), (75, 11, 0), (76, 11, 6), (77, 11, 14), (78, 
11, 21), (74, 17, 4), (75, 17, 1), (76, 17, 27), (77, 17, 1), ( 
78, 17, 4), (79, 20, 77), (80, 20, 24), (81, 20, 32), (79, 7, 90), 
(80, 7, 24), (81, 7, 24), (79, 17, 88), (80, 17, 30), (81, 17, 
14), (79, 8, 16), (80, 8, 15), (81, 8, 15), (79, 15, 24), (80, 15, 
4), (81, 15, 15), (82, 9, 26), (82, 12, 23), (82, 3, 78), (82, 6 
, 22), (82, 2, 50), (83, 20, 88), (84, 20, 33), (85, 20, 16), (83, 
15, 90), (84, 15, 9), (85, 15, 30), (83, 5, 32), (84, 5, 5), (85 
, 5, 7), (83, 1, 7), (84, 1, 8), (85, 1, 33), (83, 11, 0), (84, 
11, 37), (85, 11, 21), (86, 12, 15), (87, 12, 13), (88, 12, 8), ( 
86, 3, 15), (87, 3, 20), (88, 3, 39), (86, 18, 9), (87, 18, 37), 
(88, 18, 17), (86, 8, 14), (87, 8, 12), (88, 8, 19), (86, 7, 4), 
(87, 7, 0), (88, 7, 37), (89, 10, 3), (90, 10, 1), (89, 19, 2), ( 
90, 19, 37), (89, 14, 3), (90, 14, 10), (89, 13, 16), (90, 13, 19) 
, (89, 17, 11), (90, 17, 46), (91, 20, 2), (92, 20, 36), (91, 19, 
5), (92, 19, 30), (91, 5, 33), (92, 5, 10), (91, 4, 42), (92, 4, 
0), (93, 13, 75), (94, 13, 23), (95, 13, 1), (93, 8, 3), (94, 8, 
33), (95, 8, 2), (93, 1, 28), (94, 1, 68), (95, 1, 4), (96, 7, 
21), (97, 7, 0), (98, 7, 33), (99, 7, 38), (100, 7, 49), (96, 3, 
32), (97, 3, 0), (98, 3, 7), (99, 3, 47), (100, 3, 3), (96, 14, 
10), (97, 14, 5), (98, 14, 28), (99, 14, 63), (100, 14, 38), (96, 
16, 26), (97, 16, 5), (98, 16, 44), (99, 16, 6), (100, 16, 9), (96 
, 18, 43), (97, 18, 3), (98, 18, 17), (99, 18, 17), (100, 18, 41); 